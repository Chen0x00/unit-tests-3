/*
 * This file was automatically generated by SmartUnit
 */

package sut.com.nbcb.service.impl;

import org.junit.Test;
import static org.junit.Assert.*;
import java.lang.reflect.Method;
import static org.smartunit.shaded.org.mockito.Mockito.*;
import org.smartunit.shaded.org.mockito.ArgumentMatchers;
import static org.smartunit.runtime.SmartAssertions.*;
import com.nbcb.entity.Result;
import com.nbcb.mapper.ShopUserMapper;
import com.nbcb.mapper.ShopUserMoneyLogMapper;
import com.nbcb.pojo.ShopUser;
import com.nbcb.pojo.ShopUserMoneyLog;
import com.nbcb.pojo.UserLogin;
import com.nbcb.service.impl.UserServiceImpl;
import java.math.BigDecimal;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.swing.JLayeredPane;
import org.junit.runner.RunWith;
import org.smartunit.runtime.ExecutorServiceAnswer;
import org.smartunit.runtime.PrivateAccess;
import org.smartunit.runtime.SmartRunner;
import org.smartunit.runtime.SmartRunnerParameters;
import org.smartunit.runtime.TransactionTemplateAnswer;
import org.smartunit.runtime.ViolatedAssumptionAnswer;
import org.springframework.data.redis.core.RedisTemplate;

@RunWith(SmartRunner.class) @SmartRunnerParameters(mockJVMNonDeterminism = true, useVNET = true, resetStaticState = true) 
public class UserServiceImpl_SSTest extends UserServiceImpl_SSTest_scaffolding {
// allCoveredLines:[37, 53, 54, 56, 61, 67, 68, 69, 70, 71, 72, 76, 77, 78, 79, 80, 82, 85, 86, 87, 90, 92, 93, 97, 118, 121, 122, 123, 127, 128, 133, 134, 136, 146, 149, 150, 151, 160, 162]

  @Test(timeout = 9000)
  public void test_doLongin_00()  throws Throwable  {
      //caseID:51f8e7e4bd72277d1a9d38dbb6dadd96
      //CoveredLines: [37, 146, 149, 150, 151, 160, 162]
      //Input_0_UserLogin: {getPassword=\"-2080407029\", getAccount=\"-2080407029\"}
      //Input_1_HttpServletRequest: {}
      //Input_2_HttpServletResponse: {}
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      //mock shopUser0
      ShopUser shopUser0 = mock(ShopUser.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn("Invalid username or password").when(shopUser0).getUserPassword();
      //mock shopUserMapper0
      ShopUserMapper shopUserMapper0 = mock(ShopUserMapper.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(shopUser0).when(shopUserMapper0).selectByName(nullable(java.lang.String.class));
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "userMapper", (Object) shopUserMapper0);
      //mock userLogin0
      UserLogin userLogin0 = mock(UserLogin.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn("-2080407029").when(userLogin0).getAccount();
      doReturn("-2080407029").when(userLogin0).getPassword();
      //mock httpServletRequest0
      HttpServletRequest httpServletRequest0 = mock(HttpServletRequest.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      //mock httpServletResponse0
      HttpServletResponse httpServletResponse0 = mock(HttpServletResponse.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      
      //Call method: doLongin
      // Undeclared exception!
      try { 
        userServiceImpl0.doLongin(userLogin0, httpServletRequest0, httpServletResponse0);
      } catch(Throwable e) {
         verifyException("com.nbcb.service.impl.UserServiceImpl", e);
         assertEquals("java.lang.NullPointerException", e.getClass().getName());
      }
  }

  @Test(timeout = 9000)
  public void test_findOne_01()  throws Throwable  {
      //caseID:20aefc7d37b916dd680234bf729ee584
      //CoveredLines: [37, 53, 54]
      //Input_0_Long: null
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      
      //Call method: findOne
      // Undeclared exception!
      try { 
        userServiceImpl0.findOne((Long) null);
      } catch(Throwable e) {
         verifyException("com.nbcb.exception.CastException", e);
         assertEquals("com.nbcb.exception.CustomerException", e.getClass().getName());
      }
  }

  @Test(timeout = 9000)
  public void test_findOne_02()  throws Throwable  {
      //caseID:42c77936faeb19f2126d52edb454500d
      //CoveredLines: [37, 53, 56]
      //Input_0_Long: 1802L
      //Assert: assertNull(method_result);
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      //mock shopUserMapper0
      ShopUserMapper shopUserMapper0 = mock(ShopUserMapper.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "userMapper", (Object) shopUserMapper0);
      Long long0 = new Long(1802L);
      
      //Call method: findOne
      ShopUser shopUser0 = userServiceImpl0.findOne(long0);
      
      //Test Result Assert
      assertNull(shopUser0);
  }

  @Test(timeout = 9000)
  public void test_findOneByName_03()  throws Throwable  {
      //caseID:326b6e939f0d08eb0905dcc2e2d7ca70
      //CoveredLines: [37, 61]
      //Input_0_String: aabbcc
      //Assert: assertNull(method_result);
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      //mock shopUserMapper0
      ShopUserMapper shopUserMapper0 = mock(ShopUserMapper.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "userMapper", (Object) shopUserMapper0);
      
      //Call method: findOneByName
      ShopUser shopUser0 = userServiceImpl0.findOneByName("aabbcc");
      
      //Test Result Assert
      assertNull(shopUser0);
  }

  @Test(timeout = 9000)
  public void test_getUserByCookie_04()  throws Throwable  {
      //caseID:e1889f78354c5da0dca8ce7d37bb5923
      //CoveredLines: [37, 133, 136]
      //Input_0_String: &qy:.9M(T]tVbBu6PN
      //Input_1_HttpServletRequest: {}
      //Input_2_HttpServletResponse: {}
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      RedisTemplate<Integer, String> redisTemplate0 = new RedisTemplate<Integer, String>();
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "redisTemplate", (Object) redisTemplate0);
      //mock httpServletRequest0
      HttpServletRequest httpServletRequest0 = mock(HttpServletRequest.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      //mock httpServletResponse0
      HttpServletResponse httpServletResponse0 = mock(HttpServletResponse.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      
      //Call method: getUserByCookie
      // Undeclared exception!
      try { 
        userServiceImpl0.getUserByCookie("&qy:.9M(T]tVbBu6PN", httpServletRequest0, httpServletResponse0);
      } catch(Throwable e) {
      }
  }

  @Test(timeout = 9000)
  public void test_getUserByCookie_05()  throws Throwable  {
      //caseID:5e8d2ae54886600af3dce4a5607961f5
      //CoveredLines: [37, 133, 134]
      //Input_0_String: 
      //Input_1_HttpServletRequest: {}
      //Input_2_HttpServletResponse: {}
      //Assert: assertNull(method_result);
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      //mock httpServletRequest0
      HttpServletRequest httpServletRequest0 = mock(HttpServletRequest.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      //mock httpServletResponse0
      HttpServletResponse httpServletResponse0 = mock(HttpServletResponse.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      
      //Call method: getUserByCookie
      ShopUser shopUser0 = userServiceImpl0.getUserByCookie("", httpServletRequest0, httpServletResponse0);
      
      //Test Result Assert
      assertNull(shopUser0);
  }

  @Test(timeout = 9000)
  public void test_updateMoneyPaid_06()  throws Throwable  {
      //caseID:b824e92eb4e5f499ad628c9cc500504c
      //CoveredLines: [37, 67, 72]
      //Input_0_ShopUserMoneyLog: null
      //Assert: assertEquals(30003, (int)method_result.getCode());
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      
      //Call method: updateMoneyPaid
      Result result0 = userServiceImpl0.updateMoneyPaid((ShopUserMoneyLog) null);
      
      //Test Result Assert
      assertEquals(30003, (int)result0.getCode());
  }

  @Test(timeout = 9000)
  public void test_updateMoneyPaid_07()  throws Throwable  {
      //caseID:dd390ddd89e862972ddee807124abc51
      //CoveredLines: [67, 68, 72]
      //Input_0_ShopUserMoneyLog: {}
      //Assert: assertFalse(method_result.getSuccess());
      
      //mock userServiceImpl0
      UserServiceImpl userServiceImpl0 = mock(UserServiceImpl.class, CALLS_REAL_METHODS);
      //mock shopUserMoneyLog0
      ShopUserMoneyLog shopUserMoneyLog0 = mock(ShopUserMoneyLog.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      
      //Call method: updateMoneyPaid
      Result result0 = userServiceImpl0.updateMoneyPaid(shopUserMoneyLog0);
      
      //Test Result Assert
      assertFalse(result0.getSuccess());
  }

  @Test(timeout = 9000)
  public void test_updateMoneyPaid_08()  throws Throwable  {
      //caseID:a924d517bcd6d70784c5705d7043238d
      //CoveredLines: [37, 67, 68, 69, 72]
      //Input_0_ShopUserMoneyLog: {getUserId=0L}
      //Assert: assertFalse(method_result.getSuccess());
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      Long long0 = new Long(0L);
      //mock shopUserMoneyLog0
      ShopUserMoneyLog shopUserMoneyLog0 = mock(ShopUserMoneyLog.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(long0).when(shopUserMoneyLog0).getUserId();
      
      //Call method: updateMoneyPaid
      Result result0 = userServiceImpl0.updateMoneyPaid(shopUserMoneyLog0);
      
      //Test Result Assert
      assertFalse(result0.getSuccess());
  }

  @Test(timeout = 9000)
  public void test_updateMoneyPaid_09()  throws Throwable  {
      //caseID:6c2afac8dc981e4b27806e77f81e33f1
      //CoveredLines: [67, 68, 69, 70, 72]
      //Input_0_ShopUserMoneyLog: {getUseMoney=(BigDecimal) null, getOrderId=3747L, getUserId=3747L}
      //Assert: assertEquals("\u9519\u8BEF", method_result.getMessage());
      
      //mock userServiceImpl0
      UserServiceImpl userServiceImpl0 = mock(UserServiceImpl.class, CALLS_REAL_METHODS);
      Long long0 = new Long(3747L);
      //mock shopUserMoneyLog0
      ShopUserMoneyLog shopUserMoneyLog0 = mock(ShopUserMoneyLog.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn((BigDecimal) null).when(shopUserMoneyLog0).getUseMoney();
      doReturn(long0).when(shopUserMoneyLog0).getOrderId();
      doReturn(long0).when(shopUserMoneyLog0).getUserId();
      
      //Call method: updateMoneyPaid
      Result result0 = userServiceImpl0.updateMoneyPaid(shopUserMoneyLog0);
      
      //Test Result Assert
      assertEquals("\u9519\u8BEF", result0.getMessage());
  }

  @Test(timeout = 9000)
  public void test_updateMoneyPaid_10()  throws Throwable  {
      //caseID:00e004db65d1cc2e8e031bd0cb929dfc
      //CoveredLines: [67, 68, 69, 70, 71, 72]
      //Input_0_ShopUserMoneyLog: {getUseMoney=BigDecimal.ZERO BigDecimal.ZERO, getOrderId=503L, getUserId=503L}
      //Assert: assertEquals(30003, (int)method_result.getCode());
      
      //mock userServiceImpl0
      UserServiceImpl userServiceImpl0 = mock(UserServiceImpl.class, CALLS_REAL_METHODS);
      Long long0 = new Long(503L);
      BigDecimal bigDecimal0 = BigDecimal.ZERO;
      //mock shopUserMoneyLog0
      ShopUserMoneyLog shopUserMoneyLog0 = mock(ShopUserMoneyLog.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(bigDecimal0, bigDecimal0).when(shopUserMoneyLog0).getUseMoney();
      doReturn(long0).when(shopUserMoneyLog0).getOrderId();
      doReturn(long0).when(shopUserMoneyLog0).getUserId();
      
      //Call method: updateMoneyPaid
      Result result0 = userServiceImpl0.updateMoneyPaid(shopUserMoneyLog0);
      
      //Test Result Assert
      assertEquals(30003, (int)result0.getCode());
  }

  @Test(timeout = 9000)
  public void test_updateMoneyPaid_11()  throws Throwable  {
      //caseID:71f948c72a54aff0ac4b297de1c73237
      //CoveredLines: [37, 67, 68, 69, 70, 71, 76, 77, 78, 79, 80, 82, 85, 86, 87]
      //Input_0_ShopUserMoneyLog: {getUseMoney=BigDecimal.TEN BigDecimal.TEN BigDecimal.TEN, getMoneyLogType=1 1, getOrderId=30004 30004, getUserId=30004 30004 30004}
      //Assert: assertEquals(2, (int)method_result.getCode());
      //Assert: assertFalse(method_result.getSuccess());
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      BigDecimal bigDecimal0 = BigDecimal.TEN;
      //mock shopUser0
      ShopUser shopUser0 = mock(ShopUser.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(bigDecimal0).when(shopUser0).getUserMoney();
      //mock shopUserMapper0
      ShopUserMapper shopUserMapper0 = mock(ShopUserMapper.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(shopUser0).when(shopUserMapper0).selectByPrimaryKey(anyLong());
      doReturn(30004).when(shopUserMapper0).updateByPrimaryKey(any(com.nbcb.pojo.ShopUser.class));
      //mock shopUserMoneyLogMapper0
      ShopUserMoneyLogMapper shopUserMoneyLogMapper0 = mock(ShopUserMoneyLogMapper.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn((long)30004).when(shopUserMoneyLogMapper0).countByExample(any(com.nbcb.pojo.ShopUserMoneyLogExample.class));
      doReturn(1).when(shopUserMoneyLogMapper0).insert(any(com.nbcb.pojo.ShopUserMoneyLog.class));
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "userMoneyLogMapper", (Object) shopUserMoneyLogMapper0);
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "userMapper", (Object) shopUserMapper0);
      Long long0 = new Long(30004);
      Integer integer0 = new Integer(1);
      //mock shopUserMoneyLog0
      ShopUserMoneyLog shopUserMoneyLog0 = mock(ShopUserMoneyLog.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(integer0, integer0).when(shopUserMoneyLog0).getMoneyLogType();
      doReturn(bigDecimal0, bigDecimal0, bigDecimal0).when(shopUserMoneyLog0).getUseMoney();
      doReturn(long0, long0).when(shopUserMoneyLog0).getOrderId();
      doReturn(long0, long0, long0).when(shopUserMoneyLog0).getUserId();
      
      //Call method: updateMoneyPaid
      Result result0 = userServiceImpl0.updateMoneyPaid(shopUserMoneyLog0);
      
      //Test Result Assert
      assertEquals(2, (int)result0.getCode());
      
      //Test Result Assert
      assertFalse(result0.getSuccess());
  }

  @Test(timeout = 9000)
  public void test_updateMoneyPaid_12()  throws Throwable  {
      //caseID:c8cc22212535da8cd7d6ee1c404cb3c8
      //CoveredLines: [37, 67, 68, 69, 70, 71, 76, 77, 78, 79, 80, 82, 85, 97, 118, 121, 122, 123, 127, 128]
      //Input_0_ShopUserMoneyLog: {getUseMoney=BigDecimal.ONE BigDecimal.ONE, getMoneyLogType=JLayeredPane.DEFAULT_LAYER JLayeredPane.DEFAULT_LAYER, getOrderId=(-1618039710) (-1618039710), getUserId=(-1618039710) (-1618039710) (-1618039710)}
      //Assert: assertTrue(method_result.getSuccess());
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      BigDecimal bigDecimal0 = BigDecimal.ONE;
      //mock shopUser0
      ShopUser shopUser0 = mock(ShopUser.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      //mock shopUserMapper0
      ShopUserMapper shopUserMapper0 = mock(ShopUserMapper.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(shopUser0).when(shopUserMapper0).selectByPrimaryKey(anyLong());
      //mock shopUserMoneyLogMapper0
      ShopUserMoneyLogMapper shopUserMoneyLogMapper0 = mock(ShopUserMoneyLogMapper.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn((long)(-1618039710)).when(shopUserMoneyLogMapper0).countByExample(any(com.nbcb.pojo.ShopUserMoneyLogExample.class));
      doReturn((-1618039710)).when(shopUserMoneyLogMapper0).insert(any(com.nbcb.pojo.ShopUserMoneyLog.class));
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "userMoneyLogMapper", (Object) shopUserMoneyLogMapper0);
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "userMapper", (Object) shopUserMapper0);
      Long long0 = new Long((-1618039710));
      Integer integer0 = JLayeredPane.DEFAULT_LAYER;
      //mock shopUserMoneyLog0
      ShopUserMoneyLog shopUserMoneyLog0 = mock(ShopUserMoneyLog.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(integer0, integer0).when(shopUserMoneyLog0).getMoneyLogType();
      doReturn(bigDecimal0, bigDecimal0).when(shopUserMoneyLog0).getUseMoney();
      doReturn(long0, long0).when(shopUserMoneyLog0).getOrderId();
      doReturn(long0, long0, long0).when(shopUserMoneyLog0).getUserId();
      
      //Call method: updateMoneyPaid
      Result result0 = userServiceImpl0.updateMoneyPaid(shopUserMoneyLog0);
      
      //Test Result Assert
      assertTrue(result0.getSuccess());
  }

  @Test(timeout = 9000)
  public void test_updateMoneyPaid_13()  throws Throwable  {
      //caseID:8ff754b7f026632037cc89e32bfb510f
      //CoveredLines: [37, 67, 68, 69, 70, 71, 76, 77, 78, 79, 80, 82, 85, 86, 90, 92, 93, 97, 118, 121, 122, 123, 127, 128]
      //Input_0_ShopUserMoneyLog: {getUseMoney=BigDecimal.TEN BigDecimal.TEN BigDecimal.TEN, getMoneyLogType=1 1, getOrderId=(-1618039710) (-1618039710), getUserId=(-1618039710) (-1618039710) (-1618039710)}
      //Assert: assertTrue(method_result.getSuccess());
      
      UserServiceImpl userServiceImpl0 = new UserServiceImpl();
      BigDecimal bigDecimal0 = BigDecimal.TEN;
      //mock shopUser0
      ShopUser shopUser0 = mock(ShopUser.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(bigDecimal0).when(shopUser0).getUserMoney();
      //mock shopUserMapper0
      ShopUserMapper shopUserMapper0 = mock(ShopUserMapper.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(shopUser0).when(shopUserMapper0).selectByPrimaryKey(anyLong());
      doReturn((-1618039710)).when(shopUserMapper0).updateByPrimaryKey(any(com.nbcb.pojo.ShopUser.class));
      //mock shopUserMoneyLogMapper0
      ShopUserMoneyLogMapper shopUserMoneyLogMapper0 = mock(ShopUserMoneyLogMapper.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn((long)(-1618039710)).when(shopUserMoneyLogMapper0).countByExample(any(com.nbcb.pojo.ShopUserMoneyLogExample.class));
      doReturn(1).when(shopUserMoneyLogMapper0).insert(any(com.nbcb.pojo.ShopUserMoneyLog.class));
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "userMoneyLogMapper", (Object) shopUserMoneyLogMapper0);
      
      PrivateAccess.setVariable((Class<?>) UserServiceImpl.class, userServiceImpl0, "userMapper", (Object) shopUserMapper0);
      Long long0 = new Long((-1618039710));
      Integer integer0 = new Integer(1);
      //mock shopUserMoneyLog0
      ShopUserMoneyLog shopUserMoneyLog0 = mock(ShopUserMoneyLog.class, withSettings().defaultAnswer(new ViolatedAssumptionAnswer()).stubOnly());
      doReturn(integer0, integer0).when(shopUserMoneyLog0).getMoneyLogType();
      doReturn(bigDecimal0, bigDecimal0, bigDecimal0).when(shopUserMoneyLog0).getUseMoney();
      doReturn(long0, long0).when(shopUserMoneyLog0).getOrderId();
      doReturn(long0, long0, long0).when(shopUserMoneyLog0).getUserId();
      
      //Call method: updateMoneyPaid
      Result result0 = userServiceImpl0.updateMoneyPaid(shopUserMoneyLog0);
      
      //Test Result Assert
      assertTrue(result0.getSuccess());
  }
}
